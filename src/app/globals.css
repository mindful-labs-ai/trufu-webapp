@import 'tailwindcss';

:root {
  /* Light theme base (readable, Tailwind-like) */
  --bg-base: #f9fafb;
  --fg-base: #111827;

  --primary-base: #4325eb;
  --secondary-base: #8b5cf6;
  --accent-base: #4325eb;
  --tertiary-base: #f693c0;

  --card-base: #ffffff;
  --card-fg-base: #111827;
  --popover-base: #ffffff;
  --popover-fg-base: #111827;

  --muted-base: #edeff1;
  --muted-bg-base: #dbdde0;
  --muted-fg-base: #6b7280;

  --destructive-base: #dc2626;

  --border-base: #e5e7eb;
  --input-base: #d1d5db;
  --ring-base: #3b82f6;

  --sidebar-base: #ffffff;
  --sidebar-fg-base: #111827;
  --sidebar-primary-base: #2563eb;
  --sidebar-accent-base: #f3f4f6;

  --message-bg-base: #eceff5;

  --radius: 0.625rem;
}

.dark {
  /* Dark theme base (balanced contrast) */
  --bg-base: #1d212c;
  --fg-base: #e5e7eb;

  --primary-base: #6a52f0;
  --secondary-base: #8b5cf6;
  --accent-base: #4325eb;
  --tertiary-base: #ba7494;

  --card-base: #1d212c;
  --card-fg-base: #e5e7eb;
  --popover-base: #111827;
  --popover-fg-base: #e5e7eb;

  --muted-base: #30363e;
  --muted-bg-base: #394251;
  --muted-fg-base: #9ca3af;

  --destructive-base: #ef4444;

  --border-base: color-mix(in oklab, white 12%, transparent);
  --input-base: color-mix(in oklab, white 18%, transparent);
  --ring-base: #60a5fa;

  --sidebar-base: #111827;
  --sidebar-fg-base: #e5e7eb;
  --sidebar-primary-base: #8b5cf6;
  --sidebar-accent-base: #1f2937;

  --message-bg-base: #202735;
}

/* 각 메인 컬러는 단일 토큰과 soft/strong 변형만 제공합니다. */
@theme inline {
  /* 기본 표면/텍스트 */
  --color-background: oklch(from var(--bg-base) l c h);
  --color-foreground: oklch(from var(--fg-base) l c h);
  --color-card: oklch(from var(--card-base) l c h);
  --color-card-foreground: oklch(from var(--card-fg-base) l c h);
  --color-popover: oklch(from var(--popover-base) l c h);
  --color-popover-foreground: oklch(from var(--popover-fg-base) l c h);

  /* ===== Primary ===== */
  --color-primary: oklch(from var(--primary-base) l c h);
  --color-primary-foreground: #ffffff;
  --color-primary-soft: color-mix(in oklab, var(--color-primary) 18%, #ffffff);
  --color-primary-strong: color-mix(
    in oklab,
    var(--color-primary) 80%,
    #000000
  );

  /* ===== Secondary ===== */
  --color-secondary: oklch(from var(--secondary-base) l c h);
  --color-secondary-foreground: #ffffff;
  --color-secondary-soft: color-mix(
    in oklab,
    var(--color-secondary) 18%,
    #ffffff
  );
  --color-secondary-strong: color-mix(
    in oklab,
    var(--color-secondary) 80%,
    #000000
  );

  /* ===== Accent ===== */
  --color-accent: oklch(from var(--accent-base) l c h);
  --color-accent-foreground: #ffffff;
  --color-accent-soft: color-mix(in oklab, var(--color-accent) 18%, #ffffff);
  --color-accent-strong: color-mix(in oklab, var(--color-accent) 80%, #000000);

  /* ===== Tertiary (선택/토글 강조용) ===== */
  --color-tertiary: oklch(from var(--tertiary-base) l c h);
  --color-tertiary-foreground: #ffffff;
  --color-tertiary-soft: color-mix(
    in oklab,
    var(--color-tertiary) 18%,
    #ffffff
  );
  --color-tertiary-strong: color-mix(
    in oklab,
    var(--color-tertiary) 80%,
    #000000
  );
  --color-tertiary-border: color-mix(
    in oklab,
    var(--color-tertiary) 45%,
    #ffffff
  );

  /* 기타 토큰 */
  --color-muted: oklch(from var(--muted-base) l c h);
  --color-muted-foreground: oklch(from var(--muted-fg-base) l c h);

  --color-destructive: oklch(from var(--destructive-base) l c h);
  --color-destructive-foreground: #ffffff;

  --color-border: oklch(from var(--border-base) l c h);
  --color-input: oklch(from var(--input-base) l c h);
  --color-ring: oklch(from var(--ring-base) l c h / 50%);

  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);

  /* Sidebar */
  --color-sidebar: oklch(from var(--sidebar-base) l c h);
  --color-sidebar-foreground: oklch(from var(--sidebar-fg-base) l c h);
  --color-sidebar-primary: oklch(from var(--sidebar-primary-base) l c h);
  --color-sidebar-primary-foreground: #ffffff;
  --color-sidebar-accent: oklch(from var(--sidebar-accent-base) l c h);
  --color-sidebar-accent-foreground: #ffffff;
  --color-sidebar-border: oklch(from var(--border-base) l c h);
  --color-sidebar-ring: oklch(from var(--ring-base) l c h);

  /* Message */
  --color-message-bg: oklch(from var(--message-bg-base) l c h);

  /* Muted BG */
  --color-muted-bg: oklch(from var(--muted-bg-base) l c h);
}

@layer base {
  *,
  ::before,
  ::after {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  .animate-fadeIn {
    animation: fadeIn 0.5s ease-in-out;
  }
}

* {
  scrollbar-width: thin;
  scrollbar-color: color-mix(in oklab, var(--color-foreground) 28%, transparent)
    transparent;
}

*::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
*::-webkit-scrollbar-thumb {
  background: color-mix(in oklab, var(--color-foreground) 28%, transparent);
  border-radius: 9999px;
  border: 2px solid transparent;
  background-clip: content-box;
}
*::-webkit-scrollbar-thumb:hover {
  background: color-mix(in oklab, var(--color-foreground) 40%, transparent);
}
*::-webkit-scrollbar-track {
  background: transparent;
}
